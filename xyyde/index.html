<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>L12</title>
</head>

<body>
    <script>
        // 数组分割成字符串
        Array.prototype.join1 = function (code) {
            var result = ''
            for (let i = 0; i < this.length; i++) {
                result += this[i]
                if (i < this.length - 1)
                    result += code
            }
            return result
        }


        //数组末尾添加元素
        Array.prototype.push1 = function (obj) {
            for (let i = 0; i < arguments.length; i++) {
                this[this.length] = arguments[i]
            }
            console.log(arguments)
        }


        //数组末尾删除元素
        Array.prototype.pop1 = function (obj) {
            var result = this[this.length - 1]
            this.length -= 1
            return result
        }


        //数组开头添加元素
        Array.prototype.unshift1 = function () {
            var length = this.length + arguments.length - 1
            for (let i = length; i >= arguments.length; i--) {
                this[i] = this[i - arguments.length]
            }
            for (let j = 0; j < arguments.length; j++) {
                this[j] = arguments[j]
            }
        }


        //数组开头删除元素
        Array.prototype.shift1 = function (obj) {
            var result = this[0]
            for (let i = 1; i < this.length; i++) {
                this[i - 1] = this[i]
            }
            this.length--
            return result
        }

        //翻转
        Array.prototype.reverse1 = function () {
            for (let i = 0; i < this.length / 2; i++) {
                var temp = this[i]
                this[i] = this[this.length - 1 - i]
                this[this.length - 1 - i] = temp
            }
        }

        //包含
        Array.prototype.includes1 = function (obj) {
            for (let i = 0; i < this.length; i++) {
                if (this[i] === obj)
                    return true
            }
            return false
        }

        //返回某字符第一次出现的位置
        Array.prototype.indexof1 = function (obj) {
            for (let i = 0; i < this.length; i++) {
                if (this[i] === obj)
                    return i
            }
            return false
        }

        Array.prototype.splice1 = function (start, length) {
            if (length === undefined) {
                this.length =start
            } else {
                for (let i = start; i < this.length; i++) {
                    this[i] = this[i + length]
                }
                this.length -= length
            }
        }

        Array.prototype.slice1 = function (start, end) {
            var result = []
            for (let i = start; i < end; i++) {
                result.push(this[i])
            }
            return result
        }

        //根据下标删除1个
        Array.prototype.removeAt1 = function (index) {
            if (index >= 0 && index < this.length)
                this.splice(index, 1)
        }
        //直接删除元素本身
        Array.prototype.remove1 = function (obj) {
            this.removeAt1(this.indexof1(obj))
        }

        //数组里面此元素全部删除1
        Array.prototype.removeAll1 = function (obj) {
            if (this.includes1(obj)) {
                this.remove1(obj)
                arguments.callee.call(this,obj)
            }
        }

        //数组里面此元素全部删除2
        Array.prototype.removeAll2 = function (obj) {
            do {
                this.remove1(obj)
            } while (this.includes(obj));
        }

        //数组里固定位置添加元素
        Array.prototype.insertAt1 = function (start, obj) {
            for (let i = this.length; i > start; i--) {
                this[i] = this[i - 1]
            }
            this[start] = obj
        }

        //some 方法:查找数组中是否有符合条件的元素，有则返回true,否则返回false
        Array.prototype.some1 = function (fn) {
            for (let i = 0; i < this.length; i++) {
                if (fn(this[i], i))
                    return true
            }
            return false
        }

        //forEach 方法:数组每个元素都执行一次回调函数
        Array.prototype.forEach1 = function (fn) {
            for (let i = 0; i < this.length; i++) {
                fn(this[i], i)
            }
        }

        //find 方法:检测数组元素，并返回符合条件的第一个元素
        Array.prototype.find1 = function (fn) {
            for (let i = 0; i < this.length; i++) {
                if (fn(this[i], i))
                    return this[i]
            }
        }

        //filter 方法:检测数组元素，并返回符合条件的所有元素
        Array.prototype.filter1 = function (fn) {
            var result = []
            for (let i = 0; i < this.length; i++) {
                if (fn(this[i], i))
                    result.push(this[i])
            }
            return result
        }

        //every 方法:数组中所有元素都符合条件，才返回true
        Array.prototype.every1 = function (fn) {
            for (let i = 0; i < this.length; i++) {
                if (!fn(this[i], i))
                    return false
            }
            return true
        }

        //map 方法:通过指定函数处理数组的每个元素，并返回处理后的数组
        Array.prototype.map1 = function (fn) {
            var result = []
            for (let i = 0; i < this.length; i++) {
                result.push(fn(this[i], i))
            }
            return result
        }

        // var extend = function (proto, obj) {
        //     for (const key in obj) {
        //         if (!proto[key]) proto[key] = obj[key]
        //     }
        // }

        // extend(Array, prototype, {})



        var arr = [1, 2, 3, 4, 5]
        // arr.unshift1(20, 66)
        // console.log(arr.join1('--'))
        // console.log(arr.shift1())
        // arr.reverse1()
        arr.includes1('1')
        // arr.pop1()
        // arr.push1(6,7,8)
        // arr.unshift1(20, 66)
        // arr.reverse1()
        // arr.shift1()
        // arr.pop1()
        // arr.splice1(2, 2)
        // arr.removeAt1(5)
        // arr.remove1(1)
        arr.removeAll1(4)
        // arr.removeAll2(4)
        // arr.insertAt1(4,'z')
        // console.log(arr.includes1(1))
        // console.log(arr.indexof1(5))
        // console.log(arr.slice1(2, 4))
        console.log(arr.join1('--'))
        // console.log(arr.some1(function (item, i) {
        //     return item > 3
        // }))
        // arr.forEach1(function (item, i) {
        //     console.log(item, i)
        // })
        // console.log(arr.filter1(function (item, i) {
        //     return item > 5
        // }))
        // console.log(arr.every1(function (item, i) {
        //     return item > 0
        // }))
        // console.log(arr.find1(function (item, i) {
        //     return item > 2
        // }))
        // console.log(arr.map1(function (item, i) {
        //     return (item * 2)
        // }))





    </script>
</body>

</html>